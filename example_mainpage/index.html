<html>

<head>
  <title>Main</title>
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/font-awesome.min.css">
</head>

<body>
  <div id="main">
    <!-- <div class="overlay"></div> -->
    <div id="map">
      <div class="element">
        <div class="what section" data-sec="what">
          <i class="fa fa-certificate"></i> What
        </div>
        <div class="where section" data-sec="where">
          <i class="fa fa-certificate"></i> Where
        </div>
        <div class="when section" data-sec="when">
          <i class="fa fa-certificate"></i> When
        </div>
        <div class="faq section" data-sec="faq">
          <i class="fa fa-certificate"></i> Faq
        </div>
        <div class="reg section" data-sec="reg">
          <i class="fa fa-certificate"></i> Register
        </div>
        <!-- <div class="contact">
          Contact
          <div class="tel">
          	<h1>โทรศัพท์</h1>
	  				<p>0XX-XXX-XXXX</p>
	  				<p>0XX-XXX-XXXX</p>
          </div>
          <div class="email">
          	<h1>อีเมล</h1>
	  				<p>XXXXXXXX@XXXXXXXX.XXX</p>
          </div> -->
  			</div>
      </div>
    </div>
    <div id="popup">
    	<div class="popup pop-what left">
        <img src="images/triangle_r.png" style="position: relative;right: -100%;height: 100%;" alt="">    		
    	</div>

      <div class="popup pop-where right">
        <img src="images/triangle_l.png" style="position: relative;height: 100%;float: right;right: 100%;" alt="">        
      </div>

      <div class="popup pop-when left">
        <img src="images/triangle_r.png" style="position: relative;right: -100%;height: 100%;" alt="">        
      </div>

      <div class="popup pop-reg left">
        <img src="images/triangle_r.png" style="position: relative;right: -100%;height: 100%;" alt="">        
      </div>

      <div class="popup pop-faq right">
        <img src="images/triangle_l.png" style="position: relative;right: 100%;height: 100%;" alt="">        
      </div>
    </div>
  </div>

 	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script>
	$(document).ready(function(){

    var chkPop = 0;

    $('.section').click(function(e){
      e.stopPropagation();
      var section = $(this).data('sec');
      console.log(section);

      var name = ".pop-"+section;

      if(chkPop == 0){
        if($(name).hasClass('left'))
        {
          $(name).animate({left: "0%"});
          $(name).addClass('active');
        }
        else{
          $(name).animate({right: "0%"});
          $(name).addClass('active');
        }
        $('#map').animate({zoom: "1.2"});
        $('.overlay').addClass('active');
        chkPop++;
      }
    });

    $('#map,.popup img').click(function(){
     if($('#popup .popup').find('.active') && chkPop == 1){
        var item = $('#popup').find('.active');
        if($(item).hasClass('left')){
          item.animate({left: "-100%"});
          item.removeClass('active');
        }
        else
        {
          item.animate({right: "-100%"});
          item.removeClass('active');
        }
        $('.overlay').removeClass('active');
        $('#map').animate({zoom: "1"});        
        chkPop--;
     }
    });

	});
	</script>
</body>

</html>
